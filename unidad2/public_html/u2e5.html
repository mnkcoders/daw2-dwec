<!DOCTYPE html>
<html>
    <head>
        <title>u2e5_math</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <!--link href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.css" type="text/css" rel="stylesheet" /-->
        <!--
Crea un programa que pida al usuario que elija una opción del siguiente menú:
1. Potencia.
2. Raíz.
3. Redondeo.
4. Trigonometría.
Si el usuario introduce 1, se le deberá pedir una base y un exponente y se mostrará el resultado en
pantalla (La potencia de X elevado a Y es: )
Si el usuario introduce 2, se le pedirá un número (no negativo) y se mostrará el resultado en pantalla
(La raíz de X es: )
Si el usuario introduce 3, se le pedirá un decimal por pantalla y se mostrará el redondeo al entero más
próximo, al alta y a la baja.
Si el usuario introduce 4, se le pedirá un ángulo (entre 0 y 360) y se le mostrarán por pantalla los
valores trigonométricos del seno, coseno y tangente.
        
        -->
        <script type="text/javascript">
            
            (function(){
                
                var _app = this;

                /**
                 * @param {Number} resultado
                 * @returns {Mates}
                 */
                this.mostrar = function( resultado ){
                    
                    if( typeof resultado === 'string' ){
                        document.getElementById('resultado').innerHTML = resultado;
                    }
                    else{

                        document.getElementById('resultado').innerHTML = !isNaN(resultado) ?
                            'Resultado: ' + resultado :
                            'Escribe bien, cony!';
                    }
                    
                    
                    return this;
                };
                /**
                 * @returns {Mates}
                 */
                this.iniciar = function(){
                    
                    document.addEventListener('DOMContentLoaded',function(e){
                        console.log(e);
                        document.getElementById('btn_ejecutar').addEventListener('click',function(e){
                            console.log(e);
                            e.preventDefault();
                            switch( true ){
                                case document.getElementById('opt_raiz').checked:
                                    var num = prompt('Di un numero positivo');
                                    if( num >= 0 ){
                                        _app.mostrar( Math.sqrt(num) );
                                    }
                                    else{
                                        _app.mostrar( 'No es un valor positivo!!' )
                                    }
                                    break;
                                case document.getElementById('opt_redondeo').checked:
                                    var num = parseInt( prompt('Di un numero decimal') );
                                    if( !isNaN(num)){
                                        _app.mostrar( Math.round(num));
                                    }
                                    else{
                                        _app.mostrar('Escribe un numero');
                                    }
                                    
                                    break;
                                case document.getElementById('opt_trigo').checked:
                                    var rad = parseInt( prompt('Dame un valor de 360º') );
                                    if( typeof rad === 'number' ){
                                        rad %= 360;
                                        _app.mostrar( 'Seno: '+ Math.sin(rad)
                                                + ' Coseno: ' + Math.cos(rad)
                                                + ' Tangente: ' + Math.tan(rad));
                                    }
                                    else{
                                        _app.mostrar('Escribe un numero');
                                    }
                                    break;
                                case document.getElementById('opt_potencia').checked:
                                    var base = prompt('Define una Base');
                                    var exp  = prompt('Define un Exponente');
                                    _app.mostrar( Math.pow(
                                            parseInt( base ),
                                            parseInt( exp ) ) );
                                    break;
                            }
                            return true;
                        });
                    });
                    return this;
                };
        
                return this.iniciar();
            })();
            
        </script>
    </head>
    <body>
        <div class="container">
            
            <ul class="operaciones">
                <li>
                    <fieldset>
                        <input id="opt_potencia" type="radio" name="operacion" value="potencia" />
                        <label for="opt_potencia">Potencia</label>
                    </fieldset>
                </li>
                <li>
                    <fieldset>
                        <input id="opt_raiz" type="radio" name="operacion" value="raiz" />
                        <label for="opt_operacion">Ra&iacute;z</label>
                    </fieldset>
                </li>
                <li>
                    <fieldset>
                        <input id="opt_redondeo" type="radio" name="operacion" value="redondeo" />
                        <label for="opt_redondeo">Redondeo</label>
                    </fieldset>
                </li>
                <li>
                    <fieldset>
                        <input id="opt_trigo" type="radio" name="operacion" value="trigonometria" />
                        <label for="opt_trigo">Trigonometr&iacute;a</label>
                    </fieldset>
                </li>
            </ul>
            <fieldset class="block">
                <h1 id="resultado"><!--mostrar resultado  --></h1>
            </fieldset>
            <button type="button" class="btn btn-large" id="btn_ejecutar">Calcular</button>
        </div>
    </body>
</html>
